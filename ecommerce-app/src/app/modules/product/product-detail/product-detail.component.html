<div class="product-detail-container">
  <!-- Sol taraf: Ana görsel + thumbnails -->
  <div class="image-section">
    <img [src]="'http://localhost:8081' + selectedImage"
         alt="Product image"
         class="main-product" />

    <!-- Thumbnail Galeri (VARYANTSIZ DA GÖRÜNÜR OLSUN) -->
<div class="flex flex-wrap gap-3 mb-6">
  <img *ngFor="let img of currentImages"
       [src]="'http://localhost:8081' + img"
       alt="Product thumbnail"
       class="w-20 h-20 object-contain cursor-pointer border rounded-md p-1 bg-white"
       [class.border-blue-500]="img === selectedImage"
       (click)="selectImage(img)" />
</div>

  </div>

  <!-- Sağ taraf: Ürün bilgisi -->
  <div class="info-section" *ngIf="variantId && selectedVariant; else selectSection">
    <h2 class="title">{{ product.name }}</h2>
    <p><strong>Color:</strong> {{ selectedVariant.color }}</p>
    <p><strong>Size:</strong> {{ selectedVariant.size }}</p>
    <p class="price">Price: {{ selectedVariant.price | currency }}</p>
    <button (click)="addToCart()" class="add-to-cart-btn">Add to Cart</button>
  </div>

  <!-- Varyant seçme -->
  <ng-template #selectSection>
    <div class="info-section">
      <h2 class="title">{{ product.name }}</h2>

      <div class="mb-4">
        <label class="block font-semibold mb-2">Color:</label>
        <div class="flex">
          <div *ngFor="let color of colors"
               class="color-circle"
               [ngStyle]="{ 'background-color': color.toLowerCase() }"
               [class.selected]="selectedColor === color"
               (click)="selectColor(color)">
          </div>
        </div>

      </div>

      <div class="mb-4">
        <label class="block font-semibold mb-2">Size:</label>
        <div class="flex">
          <div *ngFor="let size of sizes"
               class="size-box"
               [class.selected]="selectedSize === size"
               (click)="selectSize(size)">
            {{ size }}
          </div>
        </div>
      </div>

      <p class="text-xl font-semibold text-blue-600 mb-4"
   *ngIf="product.price > 0">
   Price: {{ product.price | currency }}
</p>
      <button (click)="addToCart()" class="add-to-cart-btn">Add to Cart</button>
    </div>
  </ng-template>
</div>
