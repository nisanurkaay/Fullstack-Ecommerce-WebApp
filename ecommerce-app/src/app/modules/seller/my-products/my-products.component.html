<div class="my-products-container">
  <h2 class="text-xl font-bold mb-4">My Products</h2>

  <div class="mb-4 flex space-x-2">
    <button (click)="setFilter('ALL')" [class.bg-blue-500]="filter === 'ALL'" class="px-3 py-1 rounded bg-gray-200">All</button>
    <button (click)="setFilter('ACTIVE')" [class.bg-blue-500]="filter === 'ACTIVE'" class="px-3 py-1 rounded bg-gray-200">Active</button>
    <button (click)="setFilter('INACTIVE')" [class.bg-blue-500]="filter === 'INACTIVE'" class="px-3 py-1 rounded bg-gray-200">Inactive</button>
    <button (click)="setFilter('PENDING')" [class.bg-blue-500]="filter === 'PENDING'" class="px-3 py-1 rounded bg-gray-200">Pending</button>
  </div>

  <table class="min-w-full bg-white border border-gray-300">
    <thead>
      <tr class="bg-gray-100">
        <th class="py-2 px-4 border-b">Name</th>
        <th class="py-2 px-4 border-b">Status</th>
        <th class="py-2 px-4 border-b">Stock</th>
        <th class="py-2 px-4 border-b">Price</th>
        <th class="py-2 px-4 border-b">Category</th>
        <th class="py-2 px-4 border-b">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of filteredProducts">
        <td class="py-2 px-4 border-b">{{ p.name }}</td>
        <td class="py-2 px-4 border-b">{{ p.productStatus }}</td>
        <td class="py-2 px-4 border-b">{{ p.stockQuantity }}</td>
        <td class="py-2 px-4 border-b">{{ p.price | currency }}</td>
        <td class="py-2 px-4 border-b">{{ p.categoryName }}</td>
        <td class="py-2 px-4 border-b">
          <button *ngIf="p.productStatus === 'ACTIVE'" class="bg-red-500 text-white px-2 py-1 rounded"
            (click)="deactivateProduct(p.id!)">Satıştan Kaldır</button>

          <button *ngIf="p.productStatus === 'INACTIVE' && p.stockQuantity > 0" class="bg-green-500 text-white px-2 py-1 rounded"
            (click)="activateProduct(p.id!)">Yayına Al</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="filteredProducts.length === 0" class="mt-4 text-gray-500">Bu filtreye uygun ürün yok.</p>
</div>
